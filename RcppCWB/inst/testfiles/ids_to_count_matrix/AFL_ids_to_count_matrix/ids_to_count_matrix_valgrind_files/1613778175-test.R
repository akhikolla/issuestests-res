testlist <- list(ids = c(16843009L, 16843009L, 16843009L, 16843009L, 16835841L,  16843009L, 16843009L, 16843009L, 16843009L, 16843009L, 16843009L,  16843009L, 16843009L, 16843009L, 16843009L, 16843009L, 16843009L,  16838657L, 16843009L, 16843009L, 16843009L, 16843009L, 16843009L,  16843009L, 16843009L, 16843009L, 16843009L, NA, 16843009L, 16843009L,  16843108L))
result <- do.call(RcppCWB:::ids_to_count_matrix,testlist)
str(result)